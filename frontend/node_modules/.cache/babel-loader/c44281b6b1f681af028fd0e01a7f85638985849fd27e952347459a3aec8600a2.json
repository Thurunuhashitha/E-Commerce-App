{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hasit\\\\OneDrive\\\\Desktop\\\\PHEEEW--E-Commerce-App-main\\\\frontend\\\\src\\\\components\\\\OrderSummary.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport { useCartStore } from '../stores/useCartStore';\nimport { Link } from 'react-router-dom';\nimport { MoveRight } from 'lucide-react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(\"pk_test_51QS4GpI1gy62YsUlDMLkNmafIwuK2YjH131PVvTyL2B62cIDMK9e71yV4fim7IM3n3g4UXgDVpKVauzdZjYQab2u00KrHhMoz0\");\nconst OrderSummary = () => {\n  _s();\n  const {\n    total,\n    subtotal,\n    coupon,\n    isCouponApplied,\n    cart\n  } = useCartStore();\n  const savings = subtotal - total;\n  const formattedSubtotal = subtotal.toFixed(2);\n  const formattedTotal = total.toFixed(2);\n  const formattedSavings = total.toFixed(2);\n  const handlePayment = async () => {\n    const stripe = await stripePromise;\n    const res = await axios.post(\"/api/payments/create-checkout-session\", {\n      products: cart,\n      couponCode: coupon ? coupon.code : null\n    });\n    const session = res.data;\n    const result = await stripe.redirectToCheckout({\n      sessionId: session.id\n    });\n    if (result.error) {\n      console.error(\"Error:\", result.error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"space-y-4 rounded-lg border border-gray-700 bg-gray-800 p-4 shadow-sm sm:p-6\",\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: 0.5\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xl font-semibold text-emerald-400\",\n      children: \"Order summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"dl\", {\n          className: \"flex items-center justify-between gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n            className: \"text-base font-normal text-gray-300\",\n            children: \"Original price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n            className: \"text-base font-normal text-gray-300\",\n            children: [\"$\", formattedSubtotal]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 19\n        }, this), savings > 0 && /*#__PURE__*/_jsxDEV(\"dl\", {\n          className: \"flex items-center justify-between gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n            className: \"text-base font-normal text-gray-300\",\n            children: \"Savings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n            className: \"text-base font-medium text-emerald-400\",\n            children: [\"-$\", formattedSavings]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 7\n        }, this), coupon && isCouponApplied && /*#__PURE__*/_jsxDEV(\"dl\", {\n          className: \"flex items-center justify-between gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n            className: \"text-base font-normal text-gray-300\",\n            children: [\"Coupon (\", coupon.code, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n            className: \"text-base font-medium text-emerald-400\",\n            children: [\"-\", coupon.discountPercentage, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n          className: \"flex items-center justify-between gap-4 border-t border-gray-600 pt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n            className: \"text-base font-bold text-white\",\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n            className: \"text-base font-bold text-emerald-400\",\n            children: [\"$\", formattedTotal]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n        className: \"flex w-full items-center justify-center rounded-lg bg-emerald-600 px-5 py-2.5 text-sm font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-4 focus:ring-emerald-300\",\n        whileHover: {\n          scale: 1.05\n        },\n        whileTap: {\n          scale: 0.95\n        },\n        onClick: handlePayment,\n        children: \"Proceed to Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-normal text-gray-400\",\n          children: \"or\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"inline-flex items-center gap-2 text-sm font-medium text-emerald-400 underline hover:text-emerald-300 hover:no-underline\",\n          children: [\"Continue Shopping\", /*#__PURE__*/_jsxDEV(MoveRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderSummary, \"JEKOEEz2LSh2kRs8jcC+vW/mFB8=\", false, function () {\n  return [useCartStore];\n});\n_c = OrderSummary;\nexport default OrderSummary;\nvar _c;\n$RefreshReg$(_c, \"OrderSummary\");","map":{"version":3,"names":["React","motion","useCartStore","Link","MoveRight","loadStripe","axios","jsxDEV","_jsxDEV","stripePromise","OrderSummary","_s","total","subtotal","coupon","isCouponApplied","cart","savings","formattedSubtotal","toFixed","formattedTotal","formattedSavings","handlePayment","stripe","res","post","products","couponCode","code","session","data","result","redirectToCheckout","sessionId","id","error","console","message","div","className","initial","opacity","y","animate","transition","duration","children","fileName","_jsxFileName","lineNumber","columnNumber","discountPercentage","button","whileHover","scale","whileTap","onClick","to","size","_c","$RefreshReg$"],"sources":["C:/Users/hasit/OneDrive/Desktop/PHEEEW--E-Commerce-App-main/frontend/src/components/OrderSummary.jsx"],"sourcesContent":["import React from 'react'\nimport { motion } from 'framer-motion'\nimport { useCartStore } from '../stores/useCartStore';\nimport { Link } from 'react-router-dom';\nimport { MoveRight } from 'lucide-react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport axios from 'axios';\n\n\nconst stripePromise = loadStripe(\"pk_test_51QS4GpI1gy62YsUlDMLkNmafIwuK2YjH131PVvTyL2B62cIDMK9e71yV4fim7IM3n3g4UXgDVpKVauzdZjYQab2u00KrHhMoz0\");\n\nconst OrderSummary = () => {\n    const { total, subtotal, coupon, isCouponApplied, cart } = useCartStore();\n    const savings = subtotal - total;\n    const formattedSubtotal = subtotal.toFixed(2);\n    const formattedTotal = total.toFixed(2);\n    const formattedSavings = total.toFixed(2);\n    \n    const handlePayment = async () => { \n        const stripe = await stripePromise;\n        const res = await axios.post(\"/api/payments/create-checkout-session\", {\n            products: cart,\n            couponCode: coupon ? coupon.code : null\n        })\n        const session = res.data;\n        const result = await stripe.redirectToCheckout({\n            sessionId: session.id,\n        })\n        \n        if (result.error) {\n            console.error(\"Error:\", result.error.message);\n        }\n    }\n    \n  return (\n    <motion.div\n    className='space-y-4 rounded-lg border border-gray-700 bg-gray-800 p-4 shadow-sm sm:p-6'\n    initial={{ opacity: 0, y: 20 }}\n    animate={{ opacity: 1, y: 0 }}\n    transition={{ duration: 0.5 }}\n      >\n          <p className='text-xl font-semibold text-emerald-400'>Order summary</p>\n          \n          <div className='space-y-4'>\n              <div className='space-y-2'>\n                  <dl className='flex items-center justify-between gap-4'>\n                      <dt className='text-base font-normal text-gray-300'>Original price</dt>\n                      <dt className='text-base font-normal text-gray-300'>${ formattedSubtotal}</dt>\n                  </dl>\n                  \n                  {savings > 0 && (\n\t\t\t\t\t\t<dl className='flex items-center justify-between gap-4'>\n\t\t\t\t\t\t\t<dt className='text-base font-normal text-gray-300'>Savings</dt>\n\t\t\t\t\t\t\t<dd className='text-base font-medium text-emerald-400'>-${formattedSavings}</dd>\n\t\t\t\t\t\t</dl>\n                  )}\n                  \n                  {coupon && isCouponApplied && (\n                      <dl className='flex items-center justify-between gap-4'>\n                      <dt className='text-base font-normal text-gray-300'>Coupon ({coupon.code})</dt>\n                      <dd className='text-base font-medium text-emerald-400'>-{coupon.discountPercentage}%</dd>\n                  </dl>\n                  )}\n                  <dl className='flex items-center justify-between gap-4 border-t border-gray-600 pt-2'>\n\t\t\t\t\t\t<dt className='text-base font-bold text-white'>Total</dt>\n\t\t\t\t\t\t<dd className='text-base font-bold text-emerald-400'>${formattedTotal}</dd>\n\t\t\t\t\t</dl>\n              </div>\n              \n              <motion.button\n\t\t\t\t\tclassName='flex w-full items-center justify-center rounded-lg bg-emerald-600 px-5 py-2.5 text-sm font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-4 focus:ring-emerald-300'\n\t\t\t\t\twhileHover={{ scale: 1.05 }}\n\t\t\t\t\twhileTap={{ scale: 0.95 }}\n\t\t\t\t\tonClick={handlePayment}\n\t\t\t\t>\n\t\t\t\t\tProceed to Checkout\n              </motion.button>\n              \n              <div className='flex items-center justify-center gap-2'>\n\t\t\t\t\t<span className='text-sm font-normal text-gray-400'>or</span>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto='/'\n\t\t\t\t\t\tclassName='inline-flex items-center gap-2 text-sm font-medium text-emerald-400 underline hover:text-emerald-300 hover:no-underline'\n\t\t\t\t\t>\n\t\t\t\t\t\tContinue Shopping\n\t\t\t\t\t\t<MoveRight size={16} />\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n          </div>\n    </motion.div>\n  )\n}\n\nexport default OrderSummary"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}